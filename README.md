# english_learning_app

## クォータと管理ダッシュボード

- `index.html` は各種 AI 評価の残り回数をグローバルに追跡します（聞き取り/和訳/発音はそれぞれ 10 回が上限）。履歴を削除してもカウントはリセットされません。
- `/api/usage` は GET/POST に対応しており、サインイン中のユーザーのクォータ取得・加算に利用します。学習画面から自動で呼ばれます。
- 管理者向けの `admin.html` では `/api/admin/quotas` を使ってクォータ一覧の表示・リセットが可能です。リセット結果は学習画面の残り回数表示に即時反映されます（次回の同期またはページ更新時）。
- クォータの永続化は `lib/quota-store.js` で行います。デフォルトでは `data/quota-store.json` に書き込み、書き込み不可環境では自動的にインメモリ保存へフォールバックします。永続化が不要な環境では `ADMIN_STORE_MODE=memory` をセットすると警告を抑制できます。